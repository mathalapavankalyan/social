package com.websocket.controller;

import org.springframework.messaging.handler.annotation.MessageMapping;
import org.springframework.web.bind.annotation.RestController;

import com.websocket.dto.ChatMessageEvent;

import lombok.AllArgsConstructor;

@RestController
@AllArgsConstructor
public class WebSocketController {
	
	private final KafkaProducerService kafkaProducer;
	
	@MessageMapping("/send")
	public void receiveMessage(ChatMessageEvent event) {
	    kafkaProducer.send("message-sent", event);
	}


}
